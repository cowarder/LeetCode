class Solution {
public:
	bool isPalindrome(ListNode* head) {
	    if (!head || !head->next){
	        return true;
	    }
		ListNode* tail;
		tail=head;
		while (tail->next!=NULL)
			tail = tail->next;
		for (int i = 0; tail - head - 2 * i> 0;i++) {
			if ((head + i)->val != (tail - i)->val)
				return false;
		}
		return true;
	}
};